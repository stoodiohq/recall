name = "recall-api"
main = "src/index.ts"
compatibility_date = "2024-12-30"
compatibility_flags = ["nodejs_compat"]
workers_dev = true
account_id = "d3e569d2d49281d2d3ebe1eb5069dea4"

[vars]
ENVIRONMENT = "production"
STRIPE_PRICE_ID = "price_1Smo3zGXjDBivCg0x35t9VDd"

# D1 Database - Stoodio account
[[d1_databases]]
binding = "DB"
database_name = "recall-db"
database_id = "59978e9e-eceb-4ab4-853e-241e8853fdd3"

# Secrets (set via `wrangler secret put`):
# - GITHUB_CLIENT_ID
# - GITHUB_CLIENT_SECRET
# - JWT_SECRET

# Custom domain route
[[routes]]
pattern = "api.recall.team/*"
zone_name = "recall.team"
